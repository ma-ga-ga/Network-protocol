# 概念



## 计算机网络

计算机网络由若干结点和连接这些结点的链路组成。网络中的节点可以是计算机、集线器、交换机或路由器等。

## 互联网

互联网是网络的网络，网络之间通过路由器互联，构成一个覆盖范围更大的计算机网络。

## 互联网的组成

互联网的拓扑结构非常复杂，当从其工作方式可以划分为：

- 边缘部分	由所有连接在互联网上的主机组成。

- 核心部分	有大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。

![互联网的组成](D:%5Cpersonal%5Cworkspace%5CNetwork-protocol%5CComputer-network%5Cpicture%5C%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E7%BB%84%E6%88%90.png)

### 核心部分

在核心部分中起特殊作用的是 **路由器** ，它是一种专用计算机（但不叫主机），路由器是实现分组交换的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。

#### 电路交换

从通信资源的分配角度来看，交换就是按照某种方式动态地分配传输线路的资源。

电路交换要求首先要在通信双方之间建立连接信道，然后通信双方在通信期间一直占用着该连接，直到通信结束，这个连接会一直占用着连接建立时，通信系统分配的资源（信道、带宽、时隙、码子等等）。

#### 分组交换

**分组**：通常我们把要发送的整块数据称为一个报文，在发送报文之前，先把每一个报文划分成为一个个更小的等长数据段，在每一个数据段前面加上一些必要的控制信息组成头部后，构成一个分组。

分组的头部包含了诸如目的地址和源地址等重要控制信息，每一个分组才能在因特网中独立地选择传输路径，并正确地交付到分组传输的终点。

**存储转发技术**：以太网交换机的控制器先将输入端口到来的数据包缓存起来，先检查数据包是否正确，并过滤掉冲突包错误。确定包正确后，取出目的地址，通过查找表找到想要发送的输出端口地址，然后将该包发送出去。正因如此，存储转发方式在数据处理时延时大，这是它的不足，但是它可以对进入交换机的数据包进行错误检测，并且能支持不同速度的输入／输出端口间的交换，可有效地改善网络性能。它的另一优点就是这种交换方式支持不同速度端口间的转换，保持高速端口和低速端口间协同工作。实现的办法是将10Mbps低速包存储起来，再通过100Mbps速率转发到端口上。

在**分组交换**中就用到了存储转发，即当用户所要发送的数据被分成若干个数据包，并且加上对应的地址信息和控制信息后，先存储起来，通过网络中的交换机或路由器找到网络中的空闲线路，然后再进行传送。存储转发使得分组交换的线路利用率较电路交换要高。

![分组](D:%5Cpersonal%5Cworkspace%5CNetwork-protocol%5CComputer-network%5Cpicture%5C%E5%88%86%E7%BB%84.png)

路由器收到一个分组，先暂时存储一下，检查其首部，查找转发表，按照首部中的目的地址，找到合适的接口转发出去，把分组交给下一个路由器。这样一步一步地以存储转发的方式，把分组交付最终的目的主机。各路由器之间必须经常交换彼此掌握的路由信息，以便创建和动态维护路由器中的转发表，使得转发表能够在整个网络拓扑发生变化时及时更新。

![分组交换](D:%5Cpersonal%5Cworkspace%5CNetwork-protocol%5CComputer-network%5Cpicture%5C%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2.png)

采用存储转发的分组交换，实质上是采用了在数据通信过程中断续（或动态）传输带宽的策略，这对传送突发式的计算机数据非常合适。

![分组交换的优点](D:%5Cpersonal%5Cworkspace%5CNetwork-protocol%5CComputer-network%5Cpicture%5C%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E7%9A%84%E4%BC%98%E7%82%B9.png)